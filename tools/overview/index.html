
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Comprehensive documentation for the Retail AI multi-agent system" name="description"/>
<meta content="Retail AI Team" name="author"/>
<link href="https://your-domain.github.io/retail-ai/tools/overview/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.14" name="generator"/>
<title>Retail AI Agents &amp; Tools Overview - Retail AI Documentation</title>
<link href="../../assets/stylesheets/main.342714a4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#retail-ai-agents-tools-overview">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Retail AI Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Retail AI Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Retail AI Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Retail AI Agents &amp; Tools Overview
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/your-org/retail-ai" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    retail-ai
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../getting-started/quick-start/">
          
  
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../architecture/overview/">
          
  
  
  Architecture

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../agents-and-tools/overview/">
          
  
  
  Agents &amp; Tools

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../applications/streamlit-app/">
          
  
  
  Applications

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../deployment/production/">
          
  
  
  Deployment

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../development/contributing/">
          
  
  
  Development

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Retail AI Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Retail AI Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    Retail AI Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/your-org/retail-ai" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    retail-ai
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/quick-start/">
<span class="md-ellipsis">
    Quick Start
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/installation/">
<span class="md-ellipsis">
    Installation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/mkdocs-quickstart/">
<span class="md-ellipsis">
    MkDocs Guide
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Architecture
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Agents &amp; Tools
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Agents &amp; Tools
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/ai-agents/">
<span class="md-ellipsis">
    AI Agents Implementation
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-ellipsis">
    References
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            References
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/references/agent-reference/">
<span class="md-ellipsis">
    Agent Reference
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/references/tools-reference/">
<span class="md-ellipsis">
    Tools Reference
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
<span class="md-ellipsis">
    Agent Development
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            Agent Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/agents/agent-quickstart/">
<span class="md-ellipsis">
    Quickstart Guide
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/agents/agent-development-patterns/">
<span class="md-ellipsis">
    Development Patterns
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/agents/agent-performance/">
<span class="md-ellipsis">
    Performance
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/agents/agent-best-practices/">
<span class="md-ellipsis">
    Best Practices
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../agents-and-tools/agent-troubleshooting/">
<span class="md-ellipsis">
    Agent Troubleshooting
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Applications
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Applications
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../applications/streamlit-app/">
<span class="md-ellipsis">
    Streamlit App
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Deployment
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../deployment/production/">
<span class="md-ellipsis">
    Production
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Development
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/contributing/">
<span class="md-ellipsis">
    Contributing
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-are-retail-ai-agents">
<span class="md-ellipsis">
      ğŸ¤– What are Retail AI Agents?
    </span>
</a>
<nav aria-label="ğŸ¤– What are Retail AI Agents?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-architecture">
<span class="md-ellipsis">
      Agent Architecture
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implemented-agents">
<span class="md-ellipsis">
      ğŸ¯ Implemented Agents
    </span>
</a>
<nav aria-label="ğŸ¯ Implemented Agents" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#product-agent">
<span class="md-ellipsis">
      ğŸ›ï¸ Product Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inventory-agent">
<span class="md-ellipsis">
      ğŸ“¦ Inventory Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#comparison-agent">
<span class="md-ellipsis">
      âš–ï¸ Comparison Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diy-agent">
<span class="md-ellipsis">
      ğŸ”§ DIY Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#general-agent">
<span class="md-ellipsis">
      ğŸª General Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recommendation-agent">
<span class="md-ellipsis">
      ğŸ¯ Recommendation Agent
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-orchestration">
<span class="md-ellipsis">
      ğŸ”„ Agent Orchestration
    </span>
</a>
<nav aria-label="ğŸ”„ Agent Orchestration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#router-agent">
<span class="md-ellipsis">
      Router Agent
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tools-for-building-agents">
<span class="md-ellipsis">
      ğŸ› ï¸ Tools for Building Agents
    </span>
</a>
<nav aria-label="ğŸ› ï¸ Tools for Building Agents" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#unity-catalog-functions">
<span class="md-ellipsis">
      âš¡ Unity Catalog Functions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vector-search-tools">
<span class="md-ellipsis">
      ğŸ” Vector Search Tools
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#langchain-tools">
<span class="md-ellipsis">
      ğŸ§  LangChain Tools
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#external-tools">
<span class="md-ellipsis">
      ğŸŒ External Tools
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#building-your-own-agent">
<span class="md-ellipsis">
      ğŸš€ Building Your Own Agent
    </span>
</a>
<nav aria-label="ğŸš€ Building Your Own Agent" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-define-agent-purpose">
<span class="md-ellipsis">
      1ï¸âƒ£ Define Agent Purpose
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-select-appropriate-tools">
<span class="md-ellipsis">
      2ï¸âƒ£ Select Appropriate Tools
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-configure-agent">
<span class="md-ellipsis">
      3ï¸âƒ£ Configure Agent
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-add-guardrails">
<span class="md-ellipsis">
      4ï¸âƒ£ Add Guardrails
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-development-patterns">
<span class="md-ellipsis">
      ğŸ› ï¸ Agent Development Patterns
    </span>
</a>
<nav aria-label="ğŸ› ï¸ Agent Development Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-agent-structure">
<span class="md-ellipsis">
      Common Agent Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-state-management">
<span class="md-ellipsis">
      Agent State Management
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#guardrails-implementation">
<span class="md-ellipsis">
      Guardrails Implementation
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-performance-comparison">
<span class="md-ellipsis">
      ğŸ“Š Agent Performance Comparison
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices-for-agent-development">
<span class="md-ellipsis">
      ğŸ¯ Best Practices for Agent Development
    </span>
</a>
<nav aria-label="ğŸ¯ Best Practices for Agent Development" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tool-selection">
<span class="md-ellipsis">
      ğŸ”§ Tool Selection
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prompt-engineering">
<span class="md-ellipsis">
      ğŸ§  Prompt Engineering
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#guardrails-safety">
<span class="md-ellipsis">
      ğŸ›¡ï¸ Guardrails &amp; Safety
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#monitoring-optimization">
<span class="md-ellipsis">
      ğŸ“ˆ Monitoring &amp; Optimization
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#detailed-documentation">
<span class="md-ellipsis">
      ğŸ“š Detailed Documentation
    </span>
</a>
<nav aria-label="ğŸ“š Detailed Documentation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tool-specific-guides">
<span class="md-ellipsis">
      Tool-Specific Guides
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#development-resources">
<span class="md-ellipsis">
      Development Resources
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#quick-troubleshooting">
<span class="md-ellipsis">
      ğŸ†˜ Quick Troubleshooting
    </span>
</a>
<nav aria-label="ğŸ†˜ Quick Troubleshooting" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#agent-not-responding">
<span class="md-ellipsis">
      Agent Not Responding
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tool-errors">
<span class="md-ellipsis">
      Tool Errors
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-issues">
<span class="md-ellipsis">
      Performance Issues
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="retail-ai-agents-tools-overview">Retail AI Agents &amp; Tools Overview<a class="headerlink" href="#retail-ai-agents-tools-overview" title="Permanent link">Â¶</a></h1>
<p>The Retail AI system is built around specialized AI agents that orchestrate multiple tools to handle complex retail operations. This guide explains how to build and use these agents for retail customer assistance, inventory management, and product discovery.</p>
<h2 id="what-are-retail-ai-agents">ğŸ¤– What are Retail AI Agents?<a class="headerlink" href="#what-are-retail-ai-agents" title="Permanent link">Â¶</a></h2>
<p>Retail AI agents are autonomous, conversational AI systems that:
- <strong>ğŸ§  Reason and plan</strong> multi-step workflows to solve customer problems
- <strong>ğŸ”§ Use specialized tools</strong> for data access, search, and analysis
- <strong>ğŸ’¬ Maintain conversation context</strong> across multiple interactions
- <strong>ğŸ›¡ï¸ Apply business rules</strong> and safety guardrails
- <strong>ğŸ¯ Specialize in retail domains</strong> like products, inventory, and customer service</p>
<h3 id="agent-architecture">Agent Architecture<a class="headerlink" href="#agent-architecture" title="Permanent link">Â¶</a></h3>
<pre class="mermaid"><code>graph TD
    A[Customer Query] --&gt; B[Router Agent]
    B --&gt; C{Query Type?}

    C --&gt;|Product Info| D[Product Agent]
    C --&gt;|Stock Check| E[Inventory Agent]
    C --&gt;|Compare Items| F[Comparison Agent]
    C --&gt;|DIY Help| G[DIY Agent]
    C --&gt;|General| H[General Agent]

    D --&gt; I[Unity Catalog Tools]
    D --&gt; J[Vector Search Tools]
    E --&gt; I
    E --&gt; J
    F --&gt; I
    F --&gt; K[LangChain Tools]
    G --&gt; L[Web Search Tools]
    G --&gt; J
    H --&gt; J

    I --&gt; M[Response]
    J --&gt; M
    K --&gt; M
    L --&gt; M

    style D fill:#e1f5fe
    style E fill:#f3e5f5
    style F fill:#e8f5e8
    style G fill:#fff3e0
    style H fill:#fce4ec</code></pre>
<hr/>
<h2 id="implemented-agents">ğŸ¯ Implemented Agents<a class="headerlink" href="#implemented-agents" title="Permanent link">Â¶</a></h2>
<h3 id="product-agent">ğŸ›ï¸ Product Agent<a class="headerlink" href="#product-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>product_node()</code></p>
<p><strong>Specialization:</strong> Product discovery, details, and recommendations</p>
<p><strong>Capabilities:</strong>
- Exact product lookup by SKU or UPC
- Semantic product search using natural language
- Product feature extraction and analysis
- Cross-selling and upselling recommendations</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>        <span class="n">endpoint_name</span><span class="o">=</span><span class="n">endpoint_name</span><span class="p">,</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="n">index_name</span><span class="o">=</span><span class="n">index_name</span><span class="p">,</span>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>        <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>        <span class="n">k</span><span class="o">=</span><span class="n">num_results</span><span class="p">,</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="p">),</span>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">create_find_product_by_sku_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="n">create_find_product_by_upc_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="p">]</span>
</span></code></pre></div></p>
<p><strong>Example Usage:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">retail_ai.nodes</span><span class="w"> </span><span class="kn">import</span> <span class="n">product_node</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1"># Create agent</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">product_agent</span> <span class="o">=</span> <span class="n">product_node</span><span class="p">(</span><span class="n">model_config</span><span class="p">)</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="c1"># Execute</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="n">state</span> <span class="o">=</span> <span class="n">AgentState</span><span class="p">(</span>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>    <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I'm looking for wireless headphones"</span><span class="p">)],</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="n">user_id</span><span class="o">=</span><span class="s2">"user123"</span><span class="p">,</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="n">store_num</span><span class="o">=</span><span class="s2">"101"</span>
</span><span id="__span-1-11"><a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="p">)</span>
</span><span id="__span-1-12"><a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="n">response</span> <span class="o">=</span> <span class="n">product_agent</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Sample Interactions:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>ğŸ‘¤ "Tell me about SKU STB-KCP-001"
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>ğŸ¤– "That's our Stanley 20oz Tumbler in Charcoal. It features double-wall vacuum insulation, keeps drinks cold for 11 hours or hot for 7 hours. Currently priced at $39.95 with high popularity rating."
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a>ğŸ‘¤ "I need wireless headphones under $200"
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>ğŸ¤– "I found several great options! The Sony WH-CH720N offers excellent noise cancellation for $149.99, while the JBL Tune 760NC provides 35-hour battery life for $179.99."
</span></code></pre></div></p>
<hr/>
<h3 id="inventory-agent">ğŸ“¦ Inventory Agent<a class="headerlink" href="#inventory-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>inventory_node()</code></p>
<p><strong>Specialization:</strong> Stock levels, availability, and inventory management</p>
<p><strong>Capabilities:</strong>
- Real-time inventory checking across stores and warehouses
- Stock level monitoring and alerts
- Product availability by location
- Inventory movement tracking</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>    <span class="n">create_find_inventory_by_sku_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a>    <span class="n">create_find_inventory_by_upc_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>    <span class="n">create_find_store_inventory_by_sku_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a>    <span class="n">create_find_store_inventory_by_upc_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">]</span>
</span></code></pre></div></p>
<p><strong>Sample Interactions:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>ğŸ‘¤ "Do you have the Nintendo Switch OLED in stock at store 101?"
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>ğŸ¤– "Yes! Store 101 has 3 Nintendo Switch OLED units in stock. They're located in Electronics, aisle E-12. We also have 15 units available in our warehouse."
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a>ğŸ‘¤ "Which stores have the Milwaukee M18 drill in stock?"
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a>ğŸ¤– "The Milwaukee M18 drill is available at: Store 101 (5 units), Store 105 (2 units), and Store 110 (8 units). Store 103 is currently out of stock but expecting delivery tomorrow."
</span></code></pre></div></p>
<hr/>
<h3 id="comparison-agent">âš–ï¸ Comparison Agent<a class="headerlink" href="#comparison-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>comparison_node()</code></p>
<p><strong>Specialization:</strong> Product comparisons and recommendation analysis</p>
<p><strong>Capabilities:</strong>
- Side-by-side product comparisons
- Feature analysis and scoring
- Pros and cons evaluation
- Personalized recommendations based on user needs</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="n">create_find_product_by_sku_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a>    <span class="n">create_find_product_by_upc_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="o">=</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-5-5"><a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="p">]</span>
</span></code></pre></div></p>
<p><strong>Sample Interactions:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>ğŸ‘¤ "Compare the DeWalt and Milwaukee cordless drills"
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>ğŸ¤– "Great question! Here's a detailed comparison:
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a>**DeWalt 20V MAX (DCD771C2)**
</span><span id="__span-6-5"><a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a>âœ… Pros: Lighter weight (3.6 lbs), longer warranty (3 years), $20 less expensive
</span><span id="__span-6-6"><a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a>âŒ Cons: Lower torque (300 in-lbs), shorter battery life
</span><span id="__span-6-7"><a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a>
</span><span id="__span-6-8"><a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a>**Milwaukee M18 (2804-20)**  
</span><span id="__span-6-9"><a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a>âœ… Pros: Higher torque (725 in-lbs), better battery technology, more durable
</span><span id="__span-6-10"><a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a>âŒ Cons: Heavier (4.2 lbs), higher price point
</span><span id="__span-6-11"><a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a>
</span><span id="__span-6-12"><a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a>**Recommendation:** For heavy-duty work, choose Milwaukee. For general home use, DeWalt offers better value."
</span></code></pre></div></p>
<hr/>
<h3 id="diy-agent">ğŸ”§ DIY Agent<a class="headerlink" href="#diy-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>diy_node()</code></p>
<p><strong>Specialization:</strong> Project guidance, tutorials, and general assistance</p>
<p><strong>Capabilities:</strong>
- Web search for external information
- General product discovery
- Open-ended customer assistance
- Fallback for queries outside other agent specializations</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="n">search_tool</span><span class="p">(</span><span class="n">model_config</span><span class="p">),</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">]</span>
</span></code></pre></div></p>
<p><strong>Sample Interactions:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a>ğŸ‘¤ "How do I install crown molding in my living room?"
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a>ğŸ¤– "Here's a step-by-step guide for crown molding installation:
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a>**Tools Needed:** Miter saw, nail gun, measuring tape, stud finder, caulk gun
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>**Materials:** Crown molding, finishing nails, wood filler, caulk
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a>**Steps:**
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a>1. Measure room perimeter and add 10% for waste
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a>2. Cut inside corners at 45Â° angles using miter saw
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a>3. Locate wall studs and mark positions
</span><span id="__span-8-11"><a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a>4. Install molding starting with longest wall
</span><span id="__span-8-12"><a href="#__codelineno-8-12" id="__codelineno-8-12" name="__codelineno-8-12"></a>5. Use nail gun to secure into studs every 16 inches
</span><span id="__span-8-13"><a href="#__codelineno-8-13" id="__codelineno-8-13" name="__codelineno-8-13"></a>
</span><span id="__span-8-14"><a href="#__codelineno-8-14" id="__codelineno-8-14" name="__codelineno-8-14"></a>Would you like product recommendations for any of these tools?"
</span></code></pre></div></p>
<hr/>
<h3 id="general-agent">ğŸª General Agent<a class="headerlink" href="#general-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>general_node()</code></p>
<p><strong>Specialization:</strong> Store policies, hours, and general customer service</p>
<p><strong>Capabilities:</strong>
- Store information and policies
- General customer service inquiries
- Fallback for unrouted queries
- Policy and procedure guidance</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="p">]</span>
</span></code></pre></div></p>
<p><strong>Sample Interactions:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>ğŸ‘¤ "What are your store hours and return policy?"
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>ğŸ¤– "Our store hours are Monday-Saturday 6AM-10PM, Sunday 8AM-8PM. 
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>**Return Policy:**
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>- 90 days for most items with receipt
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>- 365 days for major appliances
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a>- Original packaging preferred but not required
</span><span id="__span-10-8"><a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a>- Special orders may have different terms
</span><span id="__span-10-9"><a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a>
</span><span id="__span-10-10"><a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a>Is there a specific item you're looking to return or exchange?"
</span></code></pre></div></p>
<hr/>
<h3 id="recommendation-agent">ğŸ¯ Recommendation Agent<a class="headerlink" href="#recommendation-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>recommendation_node()</code></p>
<p><strong>Specialization:</strong> Product recommendations and suggestions</p>
<p><strong>Capabilities:</strong>
- Personalized product recommendations
- Cross-selling and upselling
- Product discovery based on preferences
- Recommendation explanations</p>
<p><strong>Tools Configuration:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-11-2"><a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-11-3"><a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="p">]</span>
</span></code></pre></div></p>
<hr/>
<h2 id="agent-orchestration">ğŸ”„ Agent Orchestration<a class="headerlink" href="#agent-orchestration" title="Permanent link">Â¶</a></h2>
<h3 id="router-agent">Router Agent<a class="headerlink" href="#router-agent" title="Permanent link">Â¶</a></h3>
<p><strong>File:</strong> <code>retail_ai/nodes.py</code> â†’ <code>router_node()</code></p>
<p>The router agent intelligently directs user queries to the most appropriate specialized agent based on query analysis.</p>
<p><strong>Routing Logic:</strong>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1"># From model_config.yaml</span>
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="nt">allowed_routes</span><span class="p">:</span>
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">product</span><span class="w">      </span><span class="c1"># Product details, features, specifications</span>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">comparison</span><span class="w">   </span><span class="c1"># Comparing multiple products</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">recommendation</span><span class="w"> </span><span class="c1"># Product suggestions and recommendations</span>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inventory</span><span class="w">    </span><span class="c1"># Stock levels and availability</span>
</span><span id="__span-12-7"><a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">diy</span><span class="w">         </span><span class="c1"># How-to instructions and tutorials</span>
</span><span id="__span-12-8"><a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders</span><span class="w">      </span><span class="c1"># Order tracking and delivery</span>
</span><span id="__span-12-9"><a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">general</span><span class="w">     </span><span class="c1"># Store policies and general inquiries</span>
</span></code></pre></div></p>
<p><strong>Example Routing:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">route_to_agent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-13-2"><a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a>    <span class="n">query_lower</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-13-3"><a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a>
</span><span id="__span-13-4"><a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a>    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">keyword</span> <span class="ow">in</span> <span class="n">query_lower</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"product"</span><span class="p">,</span> <span class="s2">"find"</span><span class="p">,</span> <span class="s2">"search"</span><span class="p">]):</span>
</span><span id="__span-13-5"><a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a>        <span class="k">return</span> <span class="s2">"product"</span>
</span><span id="__span-13-6"><a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a>    <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span><span class="n">keyword</span> <span class="ow">in</span> <span class="n">query_lower</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"stock"</span><span class="p">,</span> <span class="s2">"inventory"</span><span class="p">,</span> <span class="s2">"available"</span><span class="p">]):</span>
</span><span id="__span-13-7"><a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a>        <span class="k">return</span> <span class="s2">"inventory"</span>
</span><span id="__span-13-8"><a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a>    <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span><span class="n">keyword</span> <span class="ow">in</span> <span class="n">query_lower</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"compare"</span><span class="p">,</span> <span class="s2">"vs"</span><span class="p">,</span> <span class="s2">"versus"</span><span class="p">]):</span>
</span><span id="__span-13-9"><a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a>        <span class="k">return</span> <span class="s2">"comparison"</span>
</span><span id="__span-13-10"><a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a>    <span class="c1"># ... additional routing logic</span>
</span></code></pre></div></p>
<hr/>
<h2 id="tools-for-building-agents">ğŸ› ï¸ Tools for Building Agents<a class="headerlink" href="#tools-for-building-agents" title="Permanent link">Â¶</a></h2>
<p>Agents use different types of tools depending on their needs. Here's how to choose and implement tools:</p>
<h3 id="unity-catalog-functions">âš¡ Unity Catalog Functions<a class="headerlink" href="#unity-catalog-functions" title="Permanent link">Â¶</a></h3>
<blockquote>
<p><strong>High-performance SQL functions for exact data lookups</strong></p>
</blockquote>
<p><strong>When to Use:</strong> Known SKUs/UPCs, real-time inventory checks, exact product matches</p>
<p><strong>Example Implementation:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1"># Product agent using Unity Catalog tools</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-14-3"><a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>    <span class="n">create_find_product_by_sku_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-14-4"><a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a>    <span class="n">create_find_product_by_upc_tool</span><span class="p">(</span><span class="n">warehouse_id</span><span class="p">),</span>
</span><span id="__span-14-5"><a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="p">]</span>
</span><span id="__span-14-6"><a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a>
</span><span id="__span-14-7"><a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-14-8"><a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a>    <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-14-9"><a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a>    <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span>
</span><span id="__span-14-10"><a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a>    <span class="n">prompt</span><span class="o">=</span><span class="s2">"You are a product specialist..."</span>
</span><span id="__span-14-11"><a href="#__codelineno-14-11" id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Available Functions:</strong>
- <code>find_product_by_sku(sku: list[str])</code> â†’ Product details
- <code>find_product_by_upc(upc: list[str])</code> â†’ Product details<br/>
- <code>find_inventory_by_sku(sku: list[str])</code> â†’ Global inventory
- <code>find_store_inventory_by_sku(store_id: int, sku: list[str])</code> â†’ Store inventory</p>
<p><strong>Input/Output Example:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1"># Input</span>
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="p">{</span><span class="s2">"sku"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"STB-KCP-001"</span><span class="p">]}</span>
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>
</span><span id="__span-15-4"><a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="c1"># Output</span>
</span><span id="__span-15-5"><a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="p">{</span>
</span><span id="__span-15-6"><a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>  <span class="s2">"product_id"</span><span class="p">:</span> <span class="mi">12345</span><span class="p">,</span>
</span><span id="__span-15-7"><a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>  <span class="s2">"sku"</span><span class="p">:</span> <span class="s2">"STB-KCP-001"</span><span class="p">,</span> 
</span><span id="__span-15-8"><a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a>  <span class="s2">"product_name"</span><span class="p">:</span> <span class="s2">"Stanley 20oz Tumbler"</span><span class="p">,</span>
</span><span id="__span-15-9"><a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a>  <span class="s2">"brand_name"</span><span class="p">:</span> <span class="s2">"Stanley"</span><span class="p">,</span>
</span><span id="__span-15-10"><a href="#__codelineno-15-10" id="__codelineno-15-10" name="__codelineno-15-10"></a>  <span class="s2">"base_price"</span><span class="p">:</span> <span class="mf">39.95</span><span class="p">,</span>
</span><span id="__span-15-11"><a href="#__codelineno-15-11" id="__codelineno-15-11" name="__codelineno-15-11"></a>  <span class="s2">"department_name"</span><span class="p">:</span> <span class="s2">"Kitchen &amp; Dining"</span>
</span><span id="__span-15-12"><a href="#__codelineno-15-12" id="__codelineno-15-12" name="__codelineno-15-12"></a><span class="p">}</span>
</span></code></pre></div></p>
<hr/>
<h3 id="vector-search-tools">ğŸ” Vector Search Tools<a class="headerlink" href="#vector-search-tools" title="Permanent link">Â¶</a></h3>
<blockquote>
<p><strong>Semantic search for natural language queries</strong></p>
</blockquote>
<p><strong>When to Use:</strong> Natural language product discovery, "find similar" queries, content search</p>
<p><strong>Example Implementation:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="c1"># Agent with vector search capability</span>
</span><span id="__span-16-2"><a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="n">vector_tool</span> <span class="o">=</span> <span class="n">find_product_details_by_description_tool</span><span class="p">(</span>
</span><span id="__span-16-3"><a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="n">endpoint_name</span><span class="o">=</span><span class="s2">"vs_endpoint"</span><span class="p">,</span>
</span><span id="__span-16-4"><a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a>    <span class="n">index_name</span><span class="o">=</span><span class="s2">"products_index"</span><span class="p">,</span> 
</span><span id="__span-16-5"><a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">"product_name"</span><span class="p">,</span> <span class="s2">"description"</span><span class="p">,</span> <span class="s2">"category"</span><span class="p">],</span>
</span><span id="__span-16-6"><a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a>    <span class="n">k</span><span class="o">=</span><span class="mi">10</span>
</span><span id="__span-16-7"><a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="p">)</span>
</span><span id="__span-16-8"><a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a>
</span><span id="__span-16-9"><a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-16-10"><a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a>    <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-16-11"><a href="#__codelineno-16-11" id="__codelineno-16-11" name="__codelineno-16-11"></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">vector_tool</span><span class="p">],</span>
</span><span id="__span-16-12"><a href="#__codelineno-16-12" id="__codelineno-16-12" name="__codelineno-16-12"></a>    <span class="n">prompt</span><span class="o">=</span><span class="s2">"You help customers find products..."</span>
</span><span id="__span-16-13"><a href="#__codelineno-16-13" id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Input/Output Example:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="c1"># Input</span>
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="s2">"wireless bluetooth headphones with noise cancellation"</span>
</span><span id="__span-17-3"><a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a>
</span><span id="__span-17-4"><a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="c1"># Output</span>
</span><span id="__span-17-5"><a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="p">[</span>
</span><span id="__span-17-6"><a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a>  <span class="p">{</span>
</span><span id="__span-17-7"><a href="#__codelineno-17-7" id="__codelineno-17-7" name="__codelineno-17-7"></a>    <span class="s2">"page_content"</span><span class="p">:</span> <span class="s2">"Sony WH-CH720N Wireless Noise Canceling Headphones"</span><span class="p">,</span>
</span><span id="__span-17-8"><a href="#__codelineno-17-8" id="__codelineno-17-8" name="__codelineno-17-8"></a>    <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-17-9"><a href="#__codelineno-17-9" id="__codelineno-17-9" name="__codelineno-17-9"></a>      <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"67890"</span><span class="p">,</span>
</span><span id="__span-17-10"><a href="#__codelineno-17-10" id="__codelineno-17-10" name="__codelineno-17-10"></a>      <span class="s2">"price"</span><span class="p">:</span> <span class="mf">149.99</span><span class="p">,</span>
</span><span id="__span-17-11"><a href="#__codelineno-17-11" id="__codelineno-17-11" name="__codelineno-17-11"></a>      <span class="s2">"score"</span><span class="p">:</span> <span class="mf">0.89</span>
</span><span id="__span-17-12"><a href="#__codelineno-17-12" id="__codelineno-17-12" name="__codelineno-17-12"></a>    <span class="p">}</span>
</span><span id="__span-17-13"><a href="#__codelineno-17-13" id="__codelineno-17-13" name="__codelineno-17-13"></a>  <span class="p">},</span>
</span><span id="__span-17-14"><a href="#__codelineno-17-14" id="__codelineno-17-14" name="__codelineno-17-14"></a>  <span class="p">{</span>
</span><span id="__span-17-15"><a href="#__codelineno-17-15" id="__codelineno-17-15" name="__codelineno-17-15"></a>    <span class="s2">"page_content"</span><span class="p">:</span> <span class="s2">"JBL Tune 760NC Wireless Over-Ear Headphones"</span><span class="p">,</span> 
</span><span id="__span-17-16"><a href="#__codelineno-17-16" id="__codelineno-17-16" name="__codelineno-17-16"></a>    <span class="s2">"metadata"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-17-17"><a href="#__codelineno-17-17" id="__codelineno-17-17" name="__codelineno-17-17"></a>      <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"67891"</span><span class="p">,</span>
</span><span id="__span-17-18"><a href="#__codelineno-17-18" id="__codelineno-17-18" name="__codelineno-17-18"></a>      <span class="s2">"price"</span><span class="p">:</span> <span class="mf">179.99</span><span class="p">,</span>
</span><span id="__span-17-19"><a href="#__codelineno-17-19" id="__codelineno-17-19" name="__codelineno-17-19"></a>      <span class="s2">"score"</span><span class="p">:</span> <span class="mf">0.85</span>
</span><span id="__span-17-20"><a href="#__codelineno-17-20" id="__codelineno-17-20" name="__codelineno-17-20"></a>    <span class="p">}</span>
</span><span id="__span-17-21"><a href="#__codelineno-17-21" id="__codelineno-17-21" name="__codelineno-17-21"></a>  <span class="p">}</span>
</span><span id="__span-17-22"><a href="#__codelineno-17-22" id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="p">]</span>
</span></code></pre></div></p>
<hr/>
<h3 id="langchain-tools">ğŸ§  LangChain Tools<a class="headerlink" href="#langchain-tools" title="Permanent link">Â¶</a></h3>
<blockquote>
<p><strong>AI-powered analysis and processing tools</strong></p>
</blockquote>
<p><strong>When to Use:</strong> Product comparison, text extraction, classification, complex analysis</p>
<p><strong>Example Implementation:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="c1"># Comparison agent with LangChain tools</span>
</span><span id="__span-18-2"><a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="n">comparison_tool</span> <span class="o">=</span> <span class="n">create_product_comparison_tool</span><span class="p">(</span><span class="n">llm</span><span class="p">)</span>
</span><span id="__span-18-3"><a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="n">sku_tool</span> <span class="o">=</span> <span class="n">create_sku_extraction_tool</span><span class="p">(</span><span class="n">llm</span><span class="p">)</span>
</span><span id="__span-18-4"><a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a>
</span><span id="__span-18-5"><a href="#__codelineno-18-5" id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-18-6"><a href="#__codelineno-18-6" id="__codelineno-18-6" name="__codelineno-18-6"></a>    <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-18-7"><a href="#__codelineno-18-7" id="__codelineno-18-7" name="__codelineno-18-7"></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">comparison_tool</span><span class="p">,</span> <span class="n">sku_tool</span><span class="p">],</span>
</span><span id="__span-18-8"><a href="#__codelineno-18-8" id="__codelineno-18-8" name="__codelineno-18-8"></a>    <span class="n">prompt</span><span class="o">=</span><span class="s2">"You compare products and help customers decide..."</span>
</span><span id="__span-18-9"><a href="#__codelineno-18-9" id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="p">)</span>
</span></code></pre></div></p>
<p><strong>Available Tools:</strong>
- <code>product_comparison(products: list[dict])</code> â†’ Detailed comparison analysis
- <code>sku_extraction(text: str)</code> â†’ Extract SKUs from text
- <code>product_classification(description: str)</code> â†’ Categorize products</p>
<p><strong>Input/Output Example:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="c1"># Product Comparison Input</span>
</span><span id="__span-19-2"><a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="p">[</span>
</span><span id="__span-19-3"><a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a>  <span class="p">{</span><span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"A"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"DeWalt Drill"</span><span class="p">,</span> <span class="s2">"price"</span><span class="p">:</span> <span class="mf">129.99</span><span class="p">,</span> <span class="s2">"torque"</span><span class="p">:</span> <span class="s2">"300 in-lbs"</span><span class="p">},</span>
</span><span id="__span-19-4"><a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a>  <span class="p">{</span><span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"B"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Milwaukee Drill"</span><span class="p">,</span> <span class="s2">"price"</span><span class="p">:</span> <span class="mf">149.99</span><span class="p">,</span> <span class="s2">"torque"</span><span class="p">:</span> <span class="s2">"725 in-lbs"</span><span class="p">}</span>
</span><span id="__span-19-5"><a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="p">]</span>
</span><span id="__span-19-6"><a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a>
</span><span id="__span-19-7"><a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="c1"># Output</span>
</span><span id="__span-19-8"><a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="p">{</span>
</span><span id="__span-19-9"><a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a>  <span class="s2">"winner"</span><span class="p">:</span> <span class="s2">"B"</span><span class="p">,</span>
</span><span id="__span-19-10"><a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a>  <span class="s2">"comparison_summary"</span><span class="p">:</span> <span class="s2">"Milwaukee offers superior torque for heavy-duty tasks..."</span><span class="p">,</span>
</span><span id="__span-19-11"><a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a>  <span class="s2">"recommendations"</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-19-12"><a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a>    <span class="s2">"Choose Milwaukee for professional use"</span><span class="p">,</span>
</span><span id="__span-19-13"><a href="#__codelineno-19-13" id="__codelineno-19-13" name="__codelineno-19-13"></a>    <span class="s2">"Choose DeWalt for home projects and budget-conscious buyers"</span>
</span><span id="__span-19-14"><a href="#__codelineno-19-14" id="__codelineno-19-14" name="__codelineno-19-14"></a>  <span class="p">]</span>
</span><span id="__span-19-15"><a href="#__codelineno-19-15" id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="p">}</span>
</span></code></pre></div></p>
<hr/>
<h3 id="external-tools">ğŸŒ External Tools<a class="headerlink" href="#external-tools" title="Permanent link">Â¶</a></h3>
<blockquote>
<p><strong>Web search and external data sources</strong></p>
</blockquote>
<p><strong>When to Use:</strong> Real-time information, tutorials, general knowledge, trending topics</p>
<p><strong>Example Implementation:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="c1"># DIY agent with web search</span>
</span><span id="__span-20-2"><a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="n">search_tool</span> <span class="o">=</span> <span class="n">DuckDuckGoSearchRun</span><span class="p">()</span>
</span><span id="__span-20-3"><a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a>
</span><span id="__span-20-4"><a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-20-5"><a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a>    <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-20-6"><a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a>    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">search_tool</span><span class="p">,</span> <span class="n">vector_tool</span><span class="p">],</span>
</span><span id="__span-20-7"><a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a>    <span class="n">prompt</span><span class="o">=</span><span class="s2">"You help with DIY projects and tutorials..."</span>
</span><span id="__span-20-8"><a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="p">)</span>
</span></code></pre></div></p>
<hr/>
<h2 id="building-your-own-agent">ğŸš€ Building Your Own Agent<a class="headerlink" href="#building-your-own-agent" title="Permanent link">Â¶</a></h2>
<h3 id="1-define-agent-purpose">1ï¸âƒ£ Define Agent Purpose<a class="headerlink" href="#1-define-agent-purpose" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="c1"># Example: Customer Service Agent</span>
</span><span id="__span-21-2"><a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">customer_service_node</span><span class="p">(</span><span class="n">model_config</span><span class="p">:</span> <span class="n">ModelConfig</span><span class="p">):</span>
</span><span id="__span-21-3"><a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">model_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"agents"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"customer_service"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"model"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span>
</span><span id="__span-21-4"><a href="#__codelineno-21-4" id="__codelineno-21-4" name="__codelineno-21-4"></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">"""You are a helpful customer service representative at BrickMart store </span><span class="si">{store_num}</span><span class="s2">.</span>
</span><span id="__span-21-5"><a href="#__codelineno-21-5" id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="s2">    Help customers with orders, returns, and general inquiries.</span>
</span><span id="__span-21-6"><a href="#__codelineno-21-6" id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="s2">    Always be polite and provide accurate information."""</span>
</span></code></pre></div>
<h3 id="2-select-appropriate-tools">2ï¸âƒ£ Select Appropriate Tools<a class="headerlink" href="#2-select-appropriate-tools" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="c1"># Choose tools based on agent needs</span>
</span><span id="__span-22-2"><a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-22-3"><a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a>    <span class="c1"># For order lookups</span>
</span><span id="__span-22-4"><a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a>    <span class="n">create_uc_tools</span><span class="p">([</span><span class="s2">"catalog.database.find_order_by_id"</span><span class="p">]),</span>
</span><span id="__span-22-5"><a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a>
</span><span id="__span-22-6"><a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a>    <span class="c1"># For product questions</span>
</span><span id="__span-22-7"><a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a>    <span class="n">find_product_details_by_description_tool</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
</span><span id="__span-22-8"><a href="#__codelineno-22-8" id="__codelineno-22-8" name="__codelineno-22-8"></a>
</span><span id="__span-22-9"><a href="#__codelineno-22-9" id="__codelineno-22-9" name="__codelineno-22-9"></a>    <span class="c1"># For policy questions  </span>
</span><span id="__span-22-10"><a href="#__codelineno-22-10" id="__codelineno-22-10" name="__codelineno-22-10"></a>    <span class="n">create_vector_search_tool</span><span class="p">(</span>
</span><span id="__span-22-11"><a href="#__codelineno-22-11" id="__codelineno-22-11" name="__codelineno-22-11"></a>        <span class="n">name</span><span class="o">=</span><span class="s2">"policy_search"</span><span class="p">,</span>
</span><span id="__span-22-12"><a href="#__codelineno-22-12" id="__codelineno-22-12" name="__codelineno-22-12"></a>        <span class="n">description</span><span class="o">=</span><span class="s2">"Search store policies and procedures"</span><span class="p">,</span>
</span><span id="__span-22-13"><a href="#__codelineno-22-13" id="__codelineno-22-13" name="__codelineno-22-13"></a>        <span class="n">index_name</span><span class="o">=</span><span class="s2">"policies_index"</span>
</span><span id="__span-22-14"><a href="#__codelineno-22-14" id="__codelineno-22-14" name="__codelineno-22-14"></a>    <span class="p">)</span>
</span><span id="__span-22-15"><a href="#__codelineno-22-15" id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="p">]</span>
</span></code></pre></div>
<h3 id="3-configure-agent">3ï¸âƒ£ Configure Agent<a class="headerlink" href="#3-configure-agent" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="nd">@mlflow</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>
</span><span id="__span-23-2"><a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">customer_service</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">AgentState</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">AgentConfig</span><span class="p">):</span>
</span><span id="__span-23-3"><a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a>    <span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-23-4"><a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a>
</span><span id="__span-23-5"><a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a>    <span class="n">system_prompt</span> <span class="o">=</span> <span class="n">prompt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="__span-23-6"><a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a>        <span class="n">store_num</span><span class="o">=</span><span class="n">state</span><span class="p">[</span><span class="s2">"store_num"</span><span class="p">]</span>
</span><span id="__span-23-7"><a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a>    <span class="p">)</span>
</span><span id="__span-23-8"><a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a>
</span><span id="__span-23-9"><a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-23-10"><a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a>        <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-23-11"><a href="#__codelineno-23-11" id="__codelineno-23-11" name="__codelineno-23-11"></a>        <span class="n">prompt</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">,</span>
</span><span id="__span-23-12"><a href="#__codelineno-23-12" id="__codelineno-23-12" name="__codelineno-23-12"></a>        <span class="n">tools</span><span class="o">=</span><span class="n">tools</span>
</span><span id="__span-23-13"><a href="#__codelineno-23-13" id="__codelineno-23-13" name="__codelineno-23-13"></a>    <span class="p">)</span>
</span><span id="__span-23-14"><a href="#__codelineno-23-14" id="__codelineno-23-14" name="__codelineno-23-14"></a>
</span><span id="__span-23-15"><a href="#__codelineno-23-15" id="__codelineno-23-15" name="__codelineno-23-15"></a>    <span class="k">return</span> <span class="n">agent</span>
</span></code></pre></div>
<h3 id="4-add-guardrails">4ï¸âƒ£ Add Guardrails<a class="headerlink" href="#4-add-guardrails" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="c1"># Add safety and quality checks</span>
</span><span id="__span-24-2"><a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="k">for</span> <span class="n">guardrail_definition</span> <span class="ow">in</span> <span class="n">guardrails</span><span class="p">:</span>
</span><span id="__span-24-3"><a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a>    <span class="n">guardrail</span> <span class="o">=</span> <span class="n">reflection_guardrail</span><span class="p">(</span><span class="n">guardrail_definition</span><span class="p">)</span>
</span><span id="__span-24-4"><a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">with_guardrails</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span> <span class="n">guardrail</span><span class="p">)</span>
</span></code></pre></div>
<hr/>
<h2 id="agent-development-patterns">ğŸ› ï¸ Agent Development Patterns<a class="headerlink" href="#agent-development-patterns" title="Permanent link">Â¶</a></h2>
<h3 id="common-agent-structure">Common Agent Structure<a class="headerlink" href="#common-agent-structure" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">my_agent_node</span><span class="p">(</span><span class="n">model_config</span><span class="p">:</span> <span class="n">ModelConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgentCallable</span><span class="p">:</span>
</span><span id="__span-25-2"><a href="#__codelineno-25-2" id="__codelineno-25-2" name="__codelineno-25-2"></a>    <span class="c1"># Extract configuration</span>
</span><span id="__span-25-3"><a href="#__codelineno-25-3" id="__codelineno-25-3" name="__codelineno-25-3"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">model_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"agents"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"my_agent"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"model"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span>
</span><span id="__span-25-4"><a href="#__codelineno-25-4" id="__codelineno-25-4" name="__codelineno-25-4"></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="n">model_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"agents"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"my_agent"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"prompt"</span><span class="p">)</span>
</span><span id="__span-25-5"><a href="#__codelineno-25-5" id="__codelineno-25-5" name="__codelineno-25-5"></a>    <span class="n">guardrails</span> <span class="o">=</span> <span class="n">model_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"agents"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"my_agent"</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"guardrails"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="__span-25-6"><a href="#__codelineno-25-6" id="__codelineno-25-6" name="__codelineno-25-6"></a>
</span><span id="__span-25-7"><a href="#__codelineno-25-7" id="__codelineno-25-7" name="__codelineno-25-7"></a>    <span class="nd">@mlflow</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>
</span><span id="__span-25-8"><a href="#__codelineno-25-8" id="__codelineno-25-8" name="__codelineno-25-8"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">my_agent</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">AgentState</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">AgentConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseMessage</span><span class="p">]:</span>
</span><span id="__span-25-9"><a href="#__codelineno-25-9" id="__codelineno-25-9" name="__codelineno-25-9"></a>        <span class="c1"># Initialize LLM</span>
</span><span id="__span-25-10"><a href="#__codelineno-25-10" id="__codelineno-25-10" name="__codelineno-25-10"></a>        <span class="n">llm</span> <span class="o">=</span> <span class="n">ChatDatabricks</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-25-11"><a href="#__codelineno-25-11" id="__codelineno-25-11" name="__codelineno-25-11"></a>
</span><span id="__span-25-12"><a href="#__codelineno-25-12" id="__codelineno-25-12" name="__codelineno-25-12"></a>        <span class="c1"># Format prompt with context</span>
</span><span id="__span-25-13"><a href="#__codelineno-25-13" id="__codelineno-25-13" name="__codelineno-25-13"></a>        <span class="n">prompt_template</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</span><span id="__span-25-14"><a href="#__codelineno-25-14" id="__codelineno-25-14" name="__codelineno-25-14"></a>        <span class="n">system_prompt</span> <span class="o">=</span> <span class="n">prompt_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="__span-25-15"><a href="#__codelineno-25-15" id="__codelineno-25-15" name="__codelineno-25-15"></a>            <span class="n">user_id</span><span class="o">=</span><span class="n">state</span><span class="p">[</span><span class="s2">"user_id"</span><span class="p">],</span>
</span><span id="__span-25-16"><a href="#__codelineno-25-16" id="__codelineno-25-16" name="__codelineno-25-16"></a>            <span class="n">store_num</span><span class="o">=</span><span class="n">state</span><span class="p">[</span><span class="s2">"store_num"</span><span class="p">]</span>
</span><span id="__span-25-17"><a href="#__codelineno-25-17" id="__codelineno-25-17" name="__codelineno-25-17"></a>        <span class="p">)</span>
</span><span id="__span-25-18"><a href="#__codelineno-25-18" id="__codelineno-25-18" name="__codelineno-25-18"></a>
</span><span id="__span-25-19"><a href="#__codelineno-25-19" id="__codelineno-25-19" name="__codelineno-25-19"></a>        <span class="c1"># Configure tools</span>
</span><span id="__span-25-20"><a href="#__codelineno-25-20" id="__codelineno-25-20" name="__codelineno-25-20"></a>        <span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-25-21"><a href="#__codelineno-25-21" id="__codelineno-25-21" name="__codelineno-25-21"></a>            <span class="c1"># Add relevant tools for this agent</span>
</span><span id="__span-25-22"><a href="#__codelineno-25-22" id="__codelineno-25-22" name="__codelineno-25-22"></a>        <span class="p">]</span>
</span><span id="__span-25-23"><a href="#__codelineno-25-23" id="__codelineno-25-23" name="__codelineno-25-23"></a>
</span><span id="__span-25-24"><a href="#__codelineno-25-24" id="__codelineno-25-24" name="__codelineno-25-24"></a>        <span class="c1"># Create agent</span>
</span><span id="__span-25-25"><a href="#__codelineno-25-25" id="__codelineno-25-25" name="__codelineno-25-25"></a>        <span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span>
</span><span id="__span-25-26"><a href="#__codelineno-25-26" id="__codelineno-25-26" name="__codelineno-25-26"></a>            <span class="n">model</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
</span><span id="__span-25-27"><a href="#__codelineno-25-27" id="__codelineno-25-27" name="__codelineno-25-27"></a>            <span class="n">prompt</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">,</span>
</span><span id="__span-25-28"><a href="#__codelineno-25-28" id="__codelineno-25-28" name="__codelineno-25-28"></a>            <span class="n">tools</span><span class="o">=</span><span class="n">tools</span>
</span><span id="__span-25-29"><a href="#__codelineno-25-29" id="__codelineno-25-29" name="__codelineno-25-29"></a>        <span class="p">)</span>
</span><span id="__span-25-30"><a href="#__codelineno-25-30" id="__codelineno-25-30" name="__codelineno-25-30"></a>
</span><span id="__span-25-31"><a href="#__codelineno-25-31" id="__codelineno-25-31" name="__codelineno-25-31"></a>        <span class="c1"># Apply guardrails</span>
</span><span id="__span-25-32"><a href="#__codelineno-25-32" id="__codelineno-25-32" name="__codelineno-25-32"></a>        <span class="k">for</span> <span class="n">guardrail_definition</span> <span class="ow">in</span> <span class="n">guardrails</span><span class="p">:</span>
</span><span id="__span-25-33"><a href="#__codelineno-25-33" id="__codelineno-25-33" name="__codelineno-25-33"></a>            <span class="n">guardrail</span> <span class="o">=</span> <span class="n">reflection_guardrail</span><span class="p">(</span><span class="n">guardrail_definition</span><span class="p">)</span>
</span><span id="__span-25-34"><a href="#__codelineno-25-34" id="__codelineno-25-34" name="__codelineno-25-34"></a>            <span class="n">agent</span> <span class="o">=</span> <span class="n">with_guardrails</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span> <span class="n">guardrail</span><span class="p">)</span>
</span><span id="__span-25-35"><a href="#__codelineno-25-35" id="__codelineno-25-35" name="__codelineno-25-35"></a>
</span><span id="__span-25-36"><a href="#__codelineno-25-36" id="__codelineno-25-36" name="__codelineno-25-36"></a>        <span class="k">return</span> <span class="n">agent</span>
</span><span id="__span-25-37"><a href="#__codelineno-25-37" id="__codelineno-25-37" name="__codelineno-25-37"></a>
</span><span id="__span-25-38"><a href="#__codelineno-25-38" id="__codelineno-25-38" name="__codelineno-25-38"></a>    <span class="k">return</span> <span class="n">my_agent</span>
</span></code></pre></div>
<h3 id="agent-state-management">Agent State Management<a class="headerlink" href="#agent-state-management" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentState</span><span class="p">(</span><span class="n">MessagesState</span><span class="p">):</span>
</span><span id="__span-26-2"><a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a>    <span class="n">context</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Document</span><span class="p">]</span>  <span class="c1"># Retrieved documents</span>
</span><span id="__span-26-3"><a href="#__codelineno-26-3" id="__codelineno-26-3" name="__codelineno-26-3"></a>    <span class="n">route</span><span class="p">:</span> <span class="nb">str</span>                   <span class="c1"># Current routing decision</span>
</span><span id="__span-26-4"><a href="#__codelineno-26-4" id="__codelineno-26-4" name="__codelineno-26-4"></a>    <span class="n">is_valid_config</span><span class="p">:</span> <span class="nb">bool</span>       <span class="c1"># Configuration validation</span>
</span><span id="__span-26-5"><a href="#__codelineno-26-5" id="__codelineno-26-5" name="__codelineno-26-5"></a>    <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span>                <span class="c1"># User identifier</span>
</span><span id="__span-26-6"><a href="#__codelineno-26-6" id="__codelineno-26-6" name="__codelineno-26-6"></a>    <span class="n">store_num</span><span class="p">:</span> <span class="nb">str</span>              <span class="c1"># Store context</span>
</span></code></pre></div>
<h3 id="guardrails-implementation">Guardrails Implementation<a class="headerlink" href="#guardrails-implementation" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">reflection_guardrail</span><span class="p">(</span><span class="n">guardrail_definition</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-27-2"><a href="#__codelineno-27-2" id="__codelineno-27-2" name="__codelineno-27-2"></a>    <span class="nd">@mlflow</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>
</span><span id="__span-27-3"><a href="#__codelineno-27-3" id="__codelineno-27-3" name="__codelineno-27-3"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">guardrail_check</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">AgentState</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="__span-27-4"><a href="#__codelineno-27-4" id="__codelineno-27-4" name="__codelineno-27-4"></a>        <span class="n">last_message</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="s2">"messages"</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-27-5"><a href="#__codelineno-27-5" id="__codelineno-27-5" name="__codelineno-27-5"></a>
</span><span id="__span-27-6"><a href="#__codelineno-27-6" id="__codelineno-27-6" name="__codelineno-27-6"></a>        <span class="c1"># Content safety check</span>
</span><span id="__span-27-7"><a href="#__codelineno-27-7" id="__codelineno-27-7" name="__codelineno-27-7"></a>        <span class="k">if</span> <span class="n">guardrail_definition</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"content_safety"</span><span class="p">):</span>
</span><span id="__span-27-8"><a href="#__codelineno-27-8" id="__codelineno-27-8" name="__codelineno-27-8"></a>            <span class="n">safety_check</span> <span class="o">=</span> <span class="n">check_content_safety</span><span class="p">(</span><span class="n">last_message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</span><span id="__span-27-9"><a href="#__codelineno-27-9" id="__codelineno-27-9" name="__codelineno-27-9"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">safety_check</span><span class="o">.</span><span class="n">is_safe</span><span class="p">:</span>
</span><span id="__span-27-10"><a href="#__codelineno-27-10" id="__codelineno-27-10" name="__codelineno-27-10"></a>                <span class="k">return</span> <span class="p">{</span><span class="s2">"messages"</span><span class="p">:</span> <span class="p">[</span><span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I apologize, but I cannot provide that information."</span><span class="p">)]}</span>
</span><span id="__span-27-11"><a href="#__codelineno-27-11" id="__codelineno-27-11" name="__codelineno-27-11"></a>
</span><span id="__span-27-12"><a href="#__codelineno-27-12" id="__codelineno-27-12" name="__codelineno-27-12"></a>        <span class="c1"># Quality check</span>
</span><span id="__span-27-13"><a href="#__codelineno-27-13" id="__codelineno-27-13" name="__codelineno-27-13"></a>        <span class="k">if</span> <span class="n">guardrail_definition</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"quality_check"</span><span class="p">):</span>
</span><span id="__span-27-14"><a href="#__codelineno-27-14" id="__codelineno-27-14" name="__codelineno-27-14"></a>            <span class="n">quality_score</span> <span class="o">=</span> <span class="n">assess_response_quality</span><span class="p">(</span><span class="n">last_message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</span><span id="__span-27-15"><a href="#__codelineno-27-15" id="__codelineno-27-15" name="__codelineno-27-15"></a>            <span class="k">if</span> <span class="n">quality_score</span> <span class="o">&lt;</span> <span class="mf">0.7</span><span class="p">:</span>
</span><span id="__span-27-16"><a href="#__codelineno-27-16" id="__codelineno-27-16" name="__codelineno-27-16"></a>                <span class="k">return</span> <span class="p">{</span><span class="s2">"messages"</span><span class="p">:</span> <span class="p">[</span><span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Let me provide a better response..."</span><span class="p">)]}</span>
</span><span id="__span-27-17"><a href="#__codelineno-27-17" id="__codelineno-27-17" name="__codelineno-27-17"></a>
</span><span id="__span-27-18"><a href="#__codelineno-27-18" id="__codelineno-27-18" name="__codelineno-27-18"></a>        <span class="k">return</span> <span class="n">state</span>
</span><span id="__span-27-19"><a href="#__codelineno-27-19" id="__codelineno-27-19" name="__codelineno-27-19"></a>
</span><span id="__span-27-20"><a href="#__codelineno-27-20" id="__codelineno-27-20" name="__codelineno-27-20"></a>    <span class="k">return</span> <span class="n">guardrail_check</span>
</span></code></pre></div>
<hr/>
<h2 id="agent-performance-comparison">ğŸ“Š Agent Performance Comparison<a class="headerlink" href="#agent-performance-comparison" title="Permanent link">Â¶</a></h2>
<table>
<thead>
<tr>
<th>Agent Type</th>
<th>Response Time</th>
<th>Accuracy</th>
<th>Use Cases</th>
<th>Tools Used</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Product</strong></td>
<td>âš¡âš¡âš¡âš¡</td>
<td>95%</td>
<td>Product lookup, specs</td>
<td>UC Functions + Vector Search</td>
</tr>
<tr>
<td><strong>Inventory</strong></td>
<td>âš¡âš¡âš¡âš¡âš¡</td>
<td>98%</td>
<td>Stock checks, availability</td>
<td>UC Functions</td>
</tr>
<tr>
<td><strong>Comparison</strong></td>
<td>âš¡âš¡âš¡</td>
<td>92%</td>
<td>Product analysis</td>
<td>UC + LangChain + Vector</td>
</tr>
<tr>
<td><strong>DIY</strong></td>
<td>âš¡âš¡</td>
<td>88%</td>
<td>Tutorials, guidance</td>
<td>Web Search + Vector</td>
</tr>
<tr>
<td><strong>General</strong></td>
<td>âš¡âš¡âš¡</td>
<td>90%</td>
<td>Policies, store info</td>
<td>Vector Search</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="best-practices-for-agent-development">ğŸ¯ Best Practices for Agent Development<a class="headerlink" href="#best-practices-for-agent-development" title="Permanent link">Â¶</a></h2>
<h3 id="tool-selection">ğŸ”§ Tool Selection<a class="headerlink" href="#tool-selection" title="Permanent link">Â¶</a></h3>
<ol>
<li><strong>Start with Unity Catalog</strong> for exact data lookups</li>
<li><strong>Add Vector Search</strong> for semantic understanding  </li>
<li><strong>Include LangChain tools</strong> for complex analysis</li>
<li><strong>Use Web Search</strong> for real-time information</li>
</ol>
<h3 id="prompt-engineering">ğŸ§  Prompt Engineering<a class="headerlink" href="#prompt-engineering" title="Permanent link">Â¶</a></h3>
<ol>
<li><strong>Be specific</strong> about the agent's role and expertise</li>
<li><strong>Include context</strong> like store number and user information</li>
<li><strong>Set clear boundaries</strong> for what the agent should/shouldn't do</li>
<li><strong>Provide examples</strong> of good responses</li>
</ol>
<h3 id="guardrails-safety">ğŸ›¡ï¸ Guardrails &amp; Safety<a class="headerlink" href="#guardrails-safety" title="Permanent link">Â¶</a></h3>
<ol>
<li><strong>Content safety</strong> - Block harmful or inappropriate content</li>
<li><strong>Business rules</strong> - Enforce pricing, policy, and operational rules</li>
<li><strong>Quality control</strong> - Ensure responses meet standards</li>
<li><strong>Fallback handling</strong> - Graceful degradation when tools fail</li>
</ol>
<h3 id="monitoring-optimization">ğŸ“ˆ Monitoring &amp; Optimization<a class="headerlink" href="#monitoring-optimization" title="Permanent link">Â¶</a></h3>
<ol>
<li><strong>Track performance</strong> - Response time, accuracy, user satisfaction</li>
<li><strong>Monitor tool usage</strong> - Which tools are most/least effective</li>
<li><strong>Analyze conversations</strong> - Common patterns and failure modes</li>
<li><strong>Iterate and improve</strong> - Regular updates based on feedback</li>
</ol>
<hr/>
<h2 id="detailed-documentation">ğŸ“š Detailed Documentation<a class="headerlink" href="#detailed-documentation" title="Permanent link">Â¶</a></h2>
<h3 id="tool-specific-guides">Tool-Specific Guides<a class="headerlink" href="#tool-specific-guides" title="Permanent link">Â¶</a></h3>
<ul>
<li><a href="tools-reference.md">Tools Reference</a> - Comprehensive technical tool documentation</li>
<li><a href="unity-catalog-functions.md">Unity Catalog Functions</a> - SQL-based data access</li>
<li><a href="vector-search.md">Vector Search Tools</a> - Semantic search capabilities  </li>
<li><a href="langchain-tools.md">LangChain Tools</a> - AI-powered analysis tools</li>
<li><a href="ai-agents.md">AI Agent Implementation</a> - Advanced agent patterns</li>
</ul>
<h3 id="development-resources">Development Resources<a class="headerlink" href="#development-resources" title="Permanent link">Â¶</a></h3>
<ul>
<li><a href="../../development/contributing/">Development Guide</a> - Building custom agents and tools</li>
<li><a href="../../architecture/overview/">Architecture Overview</a> - System design and patterns</li>
<li><a href="../../deployment/production/">Deployment Guide</a> - Production deployment</li>
</ul>
<hr/>
<h2 id="quick-troubleshooting">ğŸ†˜ Quick Troubleshooting<a class="headerlink" href="#quick-troubleshooting" title="Permanent link">Â¶</a></h2>
<h3 id="agent-not-responding">Agent Not Responding<a class="headerlink" href="#agent-not-responding" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="c1"># Check agent configuration</span>
</span><span id="__span-28-2"><a href="#__codelineno-28-2" id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Agent tools: </span><span class="si">{</span><span class="p">[</span><span class="n">tool</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">agent</span><span class="o">.</span><span class="n">tools</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-28-3"><a href="#__codelineno-28-3" id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="tool-errors">Tool Errors<a class="headerlink" href="#tool-errors" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="c1"># Test individual tools</span>
</span><span id="__span-29-2"><a href="#__codelineno-29-2" id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="k">try</span><span class="p">:</span>
</span><span id="__span-29-3"><a href="#__codelineno-29-3" id="__codelineno-29-3" name="__codelineno-29-3"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span>
</span><span id="__span-29-4"><a href="#__codelineno-29-4" id="__codelineno-29-4" name="__codelineno-29-4"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Tool working: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-29-5"><a href="#__codelineno-29-5" id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-29-6"><a href="#__codelineno-29-6" id="__codelineno-29-6" name="__codelineno-29-6"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Tool failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="performance-issues">Performance Issues<a class="headerlink" href="#performance-issues" title="Permanent link">Â¶</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a href="#__codelineno-30-1" id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="c1"># Enable detailed tracing</span>
</span><span id="__span-30-2"><a href="#__codelineno-30-2" id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="nd">@mlflow</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">span_type</span><span class="o">=</span><span class="s2">"AGENT"</span><span class="p">)</span>
</span><span id="__span-30-3"><a href="#__codelineno-30-3" id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">my_agent</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
</span><span id="__span-30-4"><a href="#__codelineno-30-4" id="__codelineno-30-4" name="__codelineno-30-4"></a>    <span class="c1"># Agent implementation</span>
</span><span id="__span-30-5"><a href="#__codelineno-30-5" id="__codelineno-30-5" name="__codelineno-30-5"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>For comprehensive troubleshooting, see the <a href="../../development/contributing/#troubleshooting">Development Guide</a>. </p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/your-org/retail-ai" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.highlight", "search.share", "toc.follow", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
</body>
</html>